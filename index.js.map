{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import { linkEl } from '../main';\nconst URL_PIXABAY = 'https://pixabay.com/api/';\nconst API_KEY = '46219346-243694830f7cca451bf7f7da0';\n\nexport function fetchImages(query) {\n  return fetch(`${URL_PIXABAY}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true\n`)\n    .then(response => {\n      if (!response.ok) {\n        linkEl.list.innerHTML = '';\n        throw new Error(\n          `Error fetching images: ${response.status} ${response.statusText}`\n        );\n      }\n      return response.json();\n    })\n    .then(data => data.hits);\n}\n","import { linkEl } from '../main';\nconst listEl = document.querySelector('.gallery');\nexport function photoMarkup(data) {\n  if (data.length === 0) {\n    linkEl.list.innerHTML = '';\n    return;\n  }\n  linkEl.list.innerHTML = data\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n            <li class=\"gallery-item\">\n                <a href=\"${largeImageURL}\" class=\"gallery-link\">\n                    <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-image\" />\n                </a>\n                <div class=\"info\">\n                    <p class=\"info-item\"><span>Likes</span> ${likes}</p>\n                    <p class=\"info-item\"><span>Views</span> ${views}</p>\n                    <p class=\"info-item\"><span>Comments</span> ${comments}</p>\n                    <p class=\"info-item\"><span>Downloads</span> ${downloads}</p>\n                </div>\n            </li>\n        `\n    )\n    .join('');\n  console.log();\n}\n","// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { fetchImages } from './js/pixabay-api';\nimport { photoMarkup } from './js/render-functions';\n\nexport const linkEl = {\n  form: document.querySelector('.form'),\n  loader: document.querySelector('.loader'),\n  list: document.querySelector('.gallery'),\n};\n\nlinkEl.form.addEventListener('submit', formHandler);\nlet gallery = new SimpleLightbox('.gallery a');\nfunction formHandler(e) {\n  e.preventDefault();\n  linkEl.list.innerHTML = '';\n  const query =\n    e.target.elements['search-area'].value.trim();\n  if (query === '') {\n    iziToast.error({\n      position: 'topRight',\n      message: 'Please try again! All fields is empty',\n    });\n    return;\n  }\n  e.target.elements['search-area'].value = '';\n  linkEl.loader.classList.add('active');\n  fetchImages(query)\n    .then(data => {\n      linkEl.loader.classList.remove('active');\n      if (data.length === 0) {\n        linkEl.list.innerHTML = '';\n        iziToast.error({\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        return;\n      }\n\n      photoMarkup(data);\n      gallery.refresh();\n    })\n    .catch(error => {\n      linkEl.loader.classList.remove('active');\n      linkEl.list.innerHTML = '';\n      iziToast.error({\n        position: 'topRight',\n        message: error,\n      });\n    });\n}\n"],"names":["URL_PIXABAY","API_KEY","fetchImages","query","response","linkEl","data","photoMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","formHandler","gallery","SimpleLightbox","e","iziToast","error"],"mappings":"6vBACA,MAAMA,EAAc,2BACdC,EAAU,qCAET,SAASC,EAAYC,EAAO,CACjC,OAAO,MAAM,GAAGH,CAAW,QAAQC,CAAO,MAAME,CAAK;AAAA,CACtD,EACI,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAAC,EAAO,KAAK,UAAY,GAClB,IAAI,MACR,0BAA0BD,EAAS,MAAM,IAAIA,EAAS,UAAU,EAC1E,EAEM,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKE,GAAQA,EAAK,IAAI,CAC3B,CChBe,SAAS,cAAc,UAAU,EACzC,SAASC,EAAYD,EAAM,CAChC,GAAIA,EAAK,SAAW,EAAG,CACrBD,EAAO,KAAK,UAAY,GACxB,MACD,CACDA,EAAO,KAAK,UAAYC,EACrB,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,2BAEeL,CAAa;AAAA,gCACRD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,8DAGIC,CAAK;AAAA,8DACLC,CAAK;AAAA,iEACFC,CAAQ;AAAA,kEACPC,CAAS;AAAA;AAAA;AAAA,SAItE,EACA,KAAK,EAAE,EACV,QAAQ,IAAG,CACb,CCpBO,MAAMT,EAAS,CACpB,KAAM,SAAS,cAAc,OAAO,EACpC,OAAQ,SAAS,cAAc,SAAS,EACxC,KAAM,SAAS,cAAc,UAAU,CACzC,EAEAA,EAAO,KAAK,iBAAiB,SAAUU,CAAW,EAClD,IAAIC,EAAU,IAAIC,EAAe,YAAY,EAC7C,SAASF,EAAYG,EAAG,CACtBA,EAAE,eAAc,EAChBb,EAAO,KAAK,UAAY,GACxB,MAAMF,EACJe,EAAE,OAAO,SAAS,aAAa,EAAE,MAAM,OACzC,GAAIf,IAAU,GAAI,CAChBgB,EAAS,MAAM,CACb,SAAU,WACV,QAAS,uCACf,CAAK,EACD,MACD,CACDD,EAAE,OAAO,SAAS,aAAa,EAAE,MAAQ,GACzCb,EAAO,OAAO,UAAU,IAAI,QAAQ,EACpCH,EAAYC,CAAK,EACd,KAAKG,GAAQ,CAEZ,GADAD,EAAO,OAAO,UAAU,OAAO,QAAQ,EACnCC,EAAK,SAAW,EAAG,CACrBD,EAAO,KAAK,UAAY,GACxBc,EAAS,MAAM,CACb,SAAU,WACV,QACE,0EACZ,CAAS,EACD,MACD,CAEDZ,EAAYD,CAAI,EAChBU,EAAQ,QAAO,CACrB,CAAK,EACA,MAAMI,GAAS,CACdf,EAAO,OAAO,UAAU,OAAO,QAAQ,EACvCA,EAAO,KAAK,UAAY,GACxBc,EAAS,MAAM,CACb,SAAU,WACV,QAASC,CACjB,CAAO,CACP,CAAK,CACL"}